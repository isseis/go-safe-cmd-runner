# Test configuration for dry-run debug information tests
# Tests environment variable inheritance and debug info output

[global]
env_import = ["DB_HOST=DB_HOST", "API_KEY=API_KEY"]
env_allowed = ["PATH", "HOME", "USER", "DB_HOST", "API_KEY"]
env_vars = ["BASE_DIR=%{BaseDir}", "LOG_LEVEL=info"]

[global.vars]
BaseDir = "/opt/app"

[[groups]]
name = "test_group_inherit"
# Group with default inheritance (inherits from global)
env_vars = ["GROUP_VAR=%{group_var}"]

[groups.vars]
group_var = "value1"

[[groups.commands]]
name = "test-command-1"
cmd = "echo"
args = ["Hello from command 1"]
env_vars = ["CMD_VAR=%{cmd_var}"]

[groups.commands.vars]
cmd_var = "cmd1"

[[groups]]
name = "test_group_explicit"
# Group with explicit env configuration (overrides global)
env_import = ["db_host=DB_HOST"]
env_allowed = ["PATH", "DB_HOST"]
env_vars = ["GROUP_VAR=%{group_var}"]

[groups.vars]
group_var = "value2"

[[groups.commands]]
name = "test-command-2"
cmd = "echo"
args = ["Hello from command 2"]
