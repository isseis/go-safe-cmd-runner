# Basic Output Capture Configuration Example
# This file demonstrates the basic usage of output capture functionality
version = "1.0"

[global]
timeout = 30
log_level = "info"
# Set default output size limit to 1MB
max_output_size = 1048576
env_allowlist = [
    "PATH",
    "HOME",
    "USER",
    "LANG",
]

# Basic output capture examples
[[groups]]
name = "basic_output_examples"
description = "Basic output capture functionality demonstration"

[[groups.commands]]
name = "simple_echo_to_file"
description = "Echo command with output captured to file"
cmd = "echo"
args = ["Hello, Output Capture!"]
# Capture standard output to file (relative path)
output = "simple_echo_output.txt"

[[groups.commands]]
name = "date_to_file"
description = "Date command with output captured to file"
cmd = "date"
args = []
# Capture standard output to file
output = "date_output.txt"

[[groups.commands]]
name = "multi_line_output"
description = "Command with multi-line output"
cmd = "ls"
args = ["-la", "/etc"]
# Capture directory listing to file
output = "directory_listing.txt"

[[groups.commands]]
name = "no_output_capture"
description = "Regular command without output capture"
cmd = "echo"
args = ["This goes to standard output only"]
# No output field = standard behavior (no capture)

[[groups.commands]]
name = "environment_variables"
description = "Display environment variables with output capture"
cmd = "env"
args = []
output = "env_output.txt"

# Test working with subdirectories
[[groups]]
name = "subdirectory_output"
description = "Test output capture in subdirectories"

[[groups.commands]]
name = "nested_directory_output"
description = "Output to nested directory (auto-created)"
cmd = "pwd"
args = []
output = "logs/current_directory.txt"

[[groups.commands]]
name = "user_info_output"
description = "Output user information to subdirectory"
cmd = "whoami"
args = []
output = "info/whoami_output.txt"
